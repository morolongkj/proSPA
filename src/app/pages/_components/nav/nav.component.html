<nav class="navbar navbar-expand-lg bg-white">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">
      <img src="../../../../assets/img/NDSO-3.png" alt="logo" height="40" />
      eProcurement
    </a>
    @if(isLoggedIn) {
    <nav class="navbar-nav ms-auto top-nav">
      <li class="nav-item" routerLinkActive="active">
        <a
          class="nav-link"
          aria-current="page"
          routerLink="/supplier/notifications"
        >
          <i class="fa fa-bell me-2"></i>Notifications</a
        >
      </li>
      <li class="nav-item">
        <a class="nav-link" aria-current="page" href="#">
          <i class="fa fa-gear me-2"></i>Settings</a
        >
      </li>
    </nav>
    }
  </div>
</nav>
@if(isLoggedIn) {
<nav class="navbar navbar-expand-lg navbar-dark bg-brown">
  <div class="container">
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNavDropdown"
      aria-controls="navbarNavDropdown"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav me-auto">
        <li class="nav-item" routerLinkActive="active">
          <a
            class="nav-link"
            aria-current="page"
            routerLink="/dashboard"
            *appHasRole="['superadmin', 'vendor']"
            [ngClass]="{
              active: isDropdownLinkActive(['/dashboard'])
            }"
            >Dashboard</a
          >
        </li>

        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            href="#"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
            [ngClass]="{
              active: isDropdownLinkActive([
                '/questionnaires',
                '/admin/pre-qualification',
                '/supplier/questionnaires',
                '/supplier/prequalification'
              ])
            }"
          >
            Quality Assurance
          </a>
          <ul class="dropdown-menu">
            <li *appHasRole="['quality_assurance_manager', 'quality_assurance_assistance']">
              <a class="dropdown-item" routerLink="/questionnaires"
                >Questionnaires</a
              >
            </li>
            <li *appHasRole="['quality_assurance_manager', 'quality_assurance_assistance']">
              <a class="dropdown-item" routerLink="admin/pre-qualification"
                >Prequalification</a
              >
            </li>
            <!-- @if(companyId) { -->
            <li *appHasRole="['vendor']">
              <a class="dropdown-item" routerLink="/supplier/questionnaires"
                >Questionnaires</a
              >
            </li>
            <li *appHasRole="['vendor']">
              <a class="dropdown-item" routerLink="/supplier/prequalification"
                >Prequalification</a
              >
            </li>
            <!-- } @else {
            <li class="p-2" *appHasRole="['vendor']">
              <div class="alert alert-warning m-0" role="alert">
                Company not found!
              </div>
            </li>
            } -->
          </ul>
        </li>

        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            href="#"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
            [ngClass]="{
              active: isDropdownLinkActive([
                '/tenders/create',
                '/tenders',
                '/tender-boxes',
                '/supplier/tenders',
                '/supplier/bids'
              ])
            }"
          >
            Tenders
          </a>
          <ul class="dropdown-menu">
            <li *appHasRole="['procurement_manager', 'procurement_assistant']">
              <a class="dropdown-item" routerLink="/tenders/create">Create</a>
            </li>
            <li *appHasRole="['procurement_manager']">
              <a
                class="dropdown-item"
                routerLink="/tenders"
                [queryParams]="{ status: submittedId }"
                >Verification</a
              >
            </li>
            <li *appHasRole="['tender_board_member']">
              <a
                class="dropdown-item"
                routerLink="/tenders"
                [queryParams]="{ status: verifiedId }"
                >Approve Publish</a
              >
            </li>
            <li *appHasRole="['procurement_manager', 'procurement_assistant']">
              <a
                class="dropdown-item"
                routerLink="/tenders"
                [queryParams]="{ status: approvedId }"
                >Publish</a
              >
            </li>
            <li *appHasRole="['procurement_manager', 'procurement_assistant', 'tender_board_member']">
              <a
                class="dropdown-item"
                routerLink="/tenders"
                [queryParams]="{ status: '' }"
                >List</a
              >
            </li>
            <!-- @if(companyId) { -->
            <li *appHasRole="['vendor']">
              <a class="dropdown-item" routerLink="/supplier/tenders"
                >Open Tenders</a
              >
            </li>
            <li *appHasRole="['vendor']">
              <a class="dropdown-item" routerLink="/supplier/bids">Bids</a>
            </li>
            <!-- } @else {
            <li class="p-2" *appHasRole="['vendor']">
              <div class="alert alert-warning m-0" role="alert">
                Company not found!
              </div>
            </li>
            } -->
            <li *appHasRole="['tender_board_member', 'procurement_manager', 'procurement_assistant']">
              <a class="dropdown-item" routerLink="/tender-boxes"
                >Tender Boxes</a
              >
            </li>
          </ul>
        </li>

        <!-- <li class="nav-item" *appHasRole="['superadmin']">
          <a
            class="nav-link"
            routerLink="/admin/evaluation"
            role="button"
            [ngClass]="{
              active: isDropdownLinkActive(['/admin/evaluation'])
            }"
          >
            Evaluation
          </a>
        </li> -->

        <li class="nav-item" *appHasRole="['superadmin']">
          <a
            class="nav-link"
            routerLink="/admin/companies"
            role="button"
            [ngClass]="{
              active: isDropdownLinkActive(['/admin/companies'])
            }"
          >
            Companies
          </a>
        </li>

        <li class="nav-item dropdown" *appHasRole="['superadmin']">
          <a
            class="nav-link dropdown-toggle"
            href="#"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Administration
          </a>
          <ul class="dropdown-menu">
            <li>
              <a class="dropdown-item" routerLink="/users">
                <i class="bi bi-people me-2"></i>Manage Users
              </a>
            </li>
            <li>
              <a class="dropdown-item" routerLink="/categories">
                <i class="bi bi-list-check me-2"></i>Manage Categories
              </a>
            </li>
            <li>
              <a class="dropdown-item" routerLink="/products">
                <i class="bi bi-box-seam me-2"></i>Manage Products
              </a>
            </li>
            <li>
              <a class="dropdown-item" routerLink="/documents">
                <i class="bi bi-file-earmark-text me-2"></i>Document
                Identification
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </div>

    <ul class="navbar-nav ms-auto">
      <li class="nav-item dropdown">
        <a
          class="nav-link dropdown-toggle"
          href="#"
          id="navbarDropdown"
          role="button"
          data-bs-toggle="dropdown"
          aria-expanded="false"
          [ngClass]="{
            active: isDropdownLinkActive(['/profile'])
          }"
        >
          <i class="bi bi-person-circle me-2"></i>Account
        </a>
        <ul class="dropdown-menu">
          <li>
            <a
              class="dropdown-item"
              routerLink="/profile"
              routerLinkActive="active"
              [routerLinkActiveOptions]="{ exact: true }"
            >
              <i class="bi bi-person me-2"></i> Profile
            </a>
          </li>
          <li>
            <a class="dropdown-item" (click)="confirmLogout()">
              <i class="bi bi-box-arrow-right me-2"></i> Logout
            </a>
          </li>
        </ul>
      </li>
      <!-- <li class="nav-item">
        <a class="nav-link"> <i class="fa fa-power-off me-2"></i>Logout</a>
      </li> -->
    </ul>
  </div>
</nav>
}
